<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Image Map Example</title>

    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/skeleton/2.0.4/skeleton.min.css"
      integrity="sha512-EZLkOqwILORob+p0BXZc+Vm3RgJBOe1Iq/0fiI7r/wJgzOFZMlsqTa29UEl6v6U6gsV4uIpsNZoV32YZqrCRCQ=="
      crossorigin="anonymous"
    />
    <style>
      * {
        box-sizing: border-box;
      }

      .img-container {
        height: 80vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }

      img {
        max-width: 100%;
        max-height: 100%;
        display: block;
      }
    </style>
  </head>
  <body>
    <h1>Current Selection: <span id="currentSelection"></span></h1>
    <div class="container">
      <div class="img-container">
        <img
        id = "LabChart"
          src="{{url_for('static', filename='images/lab.png') }}"
          usemap="#image-map"
        />
      </div>

      <!-- Image Map Generated by http://www.image-map.net/ -->

      <map name="image-map">
        <area
          target=""
          alt="Booth 1"
          title="Booth 1"
          coords="5,805,462,1031"
          shape="rect"
        />
        <area
          target=""
          alt="Booth 2"
          title="Booth 2"
          coords="8,461,488,709"
          shape="rect"
        />
        <area
          target=""
          alt="Booth 3"
          title="Booth 3"
          coords="945,0,1245,274"
          shape="rect"
        />
        <area
          target=""
          alt="Booth 4"
          title="Booth 4"
          coords="1341,0,1585,270"
          shape="rect"
        />
        <area
          target=""
          alt="Booth 5"
          title="Booth 5"
          coords="1676,0,2002,256"
          shape="rect"
        />
        <area
          target=""
          alt="PC 1"
          title="PC 1"
          coords="1782,1260,1890,1364"
          shape="rect"
        />
        <area
          target=""
          alt="PC 2"
          title="PC 2"
          coords="1413,1264,1515,1362"
          shape="rect"
        />
        <area
          target=""
          alt="Scanner 3"
          title="Scanner 3"
          coords="1148,966,1378,1125"
          shape="rect"
        />
        <area
          target=""
          alt="PC 4"
          title="PC 4"
          coords="1589,968,1702,1068"
          shape="rect"
        />
        <area
          target=""
          alt="PC 5"
          title="PC 5"
          coords="1940,962,2050,1066"
          shape="rect"
        />
        <area
          target=""
          alt="PC 6"
          title="PC 6"
          coords="1776,885,1876,990"
          shape="rect"
        />
        <area
          target=""
          alt="PC 7"
          title="PC 7"
          coords="1402,883,1506,986"
          shape="rect"
        />
        <area
          target=""
          alt="PC 8"
          title="PC 8"
          coords="1561,620,1661,726"
          shape="rect"
        />
        <area
          target=""
          alt="PC 9"
          title="PC 9"
          coords="1913,620,2018,722"
          shape="rect"
        />
        <area
          target=""
          alt="MAC 10"
          title="MAC 10"
          coords="1763,553,1868,651"
          shape="rect"
        />
        <area
          target=""
          alt="PC 11"
          title="PC 11"
          coords="1400,552,1507,653"
          shape="rect"
        />
        <area
          target=""
          alt="PC 12"
          title="PC 12"
          coords="1202,313,1313,413"
          shape="rect"
        />
        <area
          target=""
          alt="MAC 13"
          title="MAC 13"
          coords="1578,304,1678,405"
          shape="rect"
        />
        <area
          target=""
          alt="MAC 14"
          title="MAC 14"
          coords="1887,302,1994,396"
          shape="rect"
        />
      </map>
    </div>
    
    <script src="../static/js/imageMapster.js"></script>

    <script src="{{ url_for('static', filename='js/imageMapResizer.js') }}"></script>
    <script>
      // need to manually specify actual image size
      const WIDTH = 2095
      const HEIGHT = 1675

      // automatically adjusts image map coordinates when window resizes
      var callback = function () {
        // Handler when the DOM is fully loaded
        imageMapResize()
      }

      // calls callback() function when page is loaded
      if (
        document.readyState === 'complete' ||
        (document.readyState !== 'loading' &&
          !document.documentElement.doScroll)
      ) {
        callback()
      } else {
        document.addEventListener('DOMContentLoaded', callback)
      }

      // add event listener to each image map area
      document.querySelectorAll('area').forEach((area) => {
        area.addEventListener('click', (e) => updateTitle(area.title))
      })

      // function to update title
      const updateTitle = (currentSelection) => {
        document.getElementById('currentSelection').innerHTML = currentSelection
      }
    </script>
  </body>
</html>
